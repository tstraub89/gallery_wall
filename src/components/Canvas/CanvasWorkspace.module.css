.canvasContainer {
    width: 100%;
    height: 100%;
    background-color: #333;
    /* Darker bg behind the wall */
    overflow: hidden;
    cursor: default;
    /* Change to move when panning */
    position: relative;
    user-select: none;
}

.marquee {
    position: absolute;
    border: 2px solid var(--accent-color);
    background: rgba(0, 122, 255, 0.15);
    pointer-events: none;
    z-index: 10000;
}

.emptyState {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100%;
    color: var(--text-secondary);
}

.world {
    transform-origin: 0 0;
    will-change: transform;
}

.wall {
    position: absolute;
    top: 50px;
    left: 50px;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.2);
    /* Background color set inline */
    transition: clip-path 0.3s;
}

.wall.grid {
    /* Use cross pattern for crisp appearance at all zoom levels */
    background-image:
        linear-gradient(to right, rgba(0, 0, 0, 0.08) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0, 0, 0, 0.08) 1px, transparent 1px);
    background-size: var(--grid-size) var(--grid-size);
}

/* Staircase Shapes */
/* Ascending: Bottom edge goes UP from LEFT to RIGHT. i.e. Left side is Taller? Or Right side is Taller?
   Usually "Ascending Stairs" means you walk UP them.
   If wall is adjacent, the wall bottom boundary follows the stairs.
   So Left is Low, Right is High? NO. 
   If stairs go up, the floor level rises. So the visible wall bottom edge rises.
   So at Left (bottom of stairs), Wall is Tall. 
   At Right (top of stairs), Wall is Short (because floor is higher).
   Wait. The wall usually EXTENDS up from the stairs to a flat ceiling.
   So Left Side (bottom of stairs) -> Full Height.
   Right Side (top of stairs) -> Shorter Height (ceiling is same, floor is higher).
   So Bottom Edge goes from Low (Left) to High (Right).
   
   Polygon: TopLeft(0,0), TopRight(100%, 0), BottomRight(100%, 70%), BottomLeft(0, 100%).
   Wait. Y=100% is Bottom. 
   If Left is Tall, Left Bottom is at 100%.
   If Right is Short, Right Bottom is at, say, 50%.
   So polygon(0 0, 100% 0, 100% 60%, 0 100%).
*/
/* Staircase Shapes */
.staircase-asc {
    clip-path: polygon(0 0, 100% 0, 100% 60%, 0 100%);
}

.staircase-desc {
    clip-path: polygon(0 0, 100% 0, 100% 100%, 0 60%);
}

.frame {
    position: absolute;
    /* Border handled by inline styles now to avoid double border */
    border: none;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
    cursor: grab;
    transition: box-shadow 0.2s;
}

.frame.selected {
    border-color: var(--accent-color);
    box-shadow: 0 0 0 2px var(--accent-color), 4px 4px 10px rgba(0, 0, 0, 0.4);
    z-index: 9999 !important;
    /* Bring selected to front visually */
}

.frame.candidate {
    border-color: rgba(0, 122, 255, 0.5);
    box-shadow: 0 0 0 2px rgba(0, 122, 255, 0.5);
}

.frameContent {
    width: 100%;
    height: 100%;
    position: relative;
    /* placeholder for artwork removed to prevent zoom bleed */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
}

.matting {
    background-color: #fff;
    box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.2);
    border: 1px solid #ddd;
}

.hud {
    position: absolute;
    bottom: 24px;
    right: 24px;
    background: rgba(0, 0, 0, 0.75);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    color: white;
    padding: 6px 12px;
    border-radius: 99px;
    /* Pill shape */
    display: flex;
    gap: 8px;
    align-items: center;
    transition: all 0.2s;
}

.hud button {
    color: rgba(255, 255, 255, 0.7);
    font-weight: 600;
    min-width: 28px;
    height: 28px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 14px;
    padding: 0 4px;
    background: transparent;
    transition: all 0.2s;
    font-size: 14px;
    border: none;
    cursor: pointer;
}

.hud button:hover {
    background: rgba(255, 255, 255, 0.15);
    color: white;
}

.hud button.active {
    background: white;
    color: black;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.hud span {
    font-size: 13px;
    font-weight: 600;
    font-variant-numeric: tabular-nums;
    color: rgba(255, 255, 255, 0.9);
    min-width: 40px;
    text-align: center;
}

.separator {
    width: 1px;
    height: 16px;
    background: rgba(255, 255, 255, 0.2);
    margin: 0 4px;
}